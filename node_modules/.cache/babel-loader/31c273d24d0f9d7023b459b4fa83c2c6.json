{"ast":null,"code":"(function webpackUniversalModuleDefinition(root, factory) {\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = factory();else if (typeof define === 'function' && define.amd) define([], factory);else if (typeof exports === 'object') exports[\"Mappa\"] = factory();else root[\"Mappa\"] = factory();\n})(this, function () {\n  return (\n    /******/\n    function (modules) {\n      // webpackBootstrap\n\n      /******/\n      // The module cache\n\n      /******/\n      var installedModules = {};\n      /******/\n\n      /******/\n      // The require function\n\n      /******/\n\n      function __webpack_require__(moduleId) {\n        /******/\n\n        /******/\n        // Check if module is in cache\n\n        /******/\n        if (installedModules[moduleId]) {\n          /******/\n          return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/\n        // Create a new module (and put it into the cache)\n\n        /******/\n\n\n        var module = installedModules[moduleId] = {\n          /******/\n          i: moduleId,\n\n          /******/\n          l: false,\n\n          /******/\n          exports: {}\n          /******/\n\n        };\n        /******/\n\n        /******/\n        // Execute the module function\n\n        /******/\n\n        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n\n        /******/\n        // Flag the module as loaded\n\n        /******/\n\n        module.l = true;\n        /******/\n\n        /******/\n        // Return the exports of the module\n\n        /******/\n\n        return module.exports;\n        /******/\n      }\n      /******/\n\n      /******/\n\n      /******/\n      // expose the modules object (__webpack_modules__)\n\n      /******/\n\n\n      __webpack_require__.m = modules;\n      /******/\n\n      /******/\n      // expose the module cache\n\n      /******/\n\n      __webpack_require__.c = installedModules;\n      /******/\n\n      /******/\n      // identity function for calling harmony imports with the correct context\n\n      /******/\n\n      __webpack_require__.i = function (value) {\n        return value;\n      };\n      /******/\n\n      /******/\n      // define getter function for harmony exports\n\n      /******/\n\n\n      __webpack_require__.d = function (exports, name, getter) {\n        /******/\n        if (!__webpack_require__.o(exports, name)) {\n          /******/\n          Object.defineProperty(exports, name, {\n            /******/\n            configurable: false,\n\n            /******/\n            enumerable: true,\n\n            /******/\n            get: getter\n            /******/\n\n          });\n          /******/\n        }\n        /******/\n\n      };\n      /******/\n\n      /******/\n      // getDefaultExport function for compatibility with non-harmony modules\n\n      /******/\n\n\n      __webpack_require__.n = function (module) {\n        /******/\n        var getter = module && module.__esModule ?\n        /******/\n        function getDefault() {\n          return module['default'];\n        } :\n        /******/\n        function getModuleExports() {\n          return module;\n        };\n        /******/\n\n        __webpack_require__.d(getter, 'a', getter);\n        /******/\n\n\n        return getter;\n        /******/\n      };\n      /******/\n\n      /******/\n      // Object.prototype.hasOwnProperty.call\n\n      /******/\n\n\n      __webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n\n      /******/\n      // __webpack_public_path__\n\n      /******/\n\n\n      __webpack_require__.p = \"/dist/\";\n      /******/\n\n      /******/\n      // Load entry module and return exports\n\n      /******/\n\n      return __webpack_require__(__webpack_require__.s = 6);\n      /******/\n    }(\n    /************************************************************************/\n\n    /******/\n    [\n    /* 0 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }(); // -----------\n      // Static Map\n      // -----------\n\n\n      var _parseGeoJSON = __webpack_require__(3);\n\n      var _parseGeoJSON2 = _interopRequireDefault(_parseGeoJSON);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var StaticMap = function () {\n        function StaticMap(options) {\n          _classCallCheck(this, StaticMap);\n\n          this.options = options;\n          this.init();\n        }\n\n        _createClass(StaticMap, [{\n          key: 'init',\n          value: function init() {\n            this.options.pixels = 256;\n\n            if (!this.options.scale) {\n              this.options.scale = 1;\n            }\n\n            if (this.options.scale === 2) {\n              this.options.pixels = 512;\n            }\n          }\n        }, {\n          key: 'latLngToPixel',\n          value: function latLngToPixel(lat, lng) {\n            return {\n              x: this.fromLngToPoint(lng) - this.fromLngToPoint(this.options.lng) + this.options.width / (2 / this.options.scale),\n              y: this.fromLatToPoint(lat) - this.fromLatToPoint(this.options.lat) + this.options.height / (2 / this.options.scale)\n            };\n          }\n        }, {\n          key: 'fromLatToPoint',\n          value: function fromLatToPoint(l) {\n            return this.options.pixels / Math.PI * Math.pow(2, this.options.zoom) * (Math.PI - Math.log(Math.tan(Math.PI / 4 + l * Math.PI / 180 / 2)));\n          }\n        }, {\n          key: 'fromLngToPoint',\n          value: function fromLngToPoint(l) {\n            return this.options.pixels / Math.PI * Math.pow(2, this.options.zoom) * (l * Math.PI / 180 + Math.PI);\n          }\n        }], [{\n          key: 'geoJSON',\n          value: function geoJSON() {\n            return (0, _parseGeoJSON2.default)(arguments.length <= 0 ? undefined : arguments[0], arguments.length <= 1 ? undefined : arguments[1]);\n          }\n        }]);\n\n        return StaticMap;\n      }();\n\n      exports.default = StaticMap;\n      /***/\n    },\n    /* 1 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }(); // -----------\n      // Tile Map\n      // -----------\n\n\n      var _parseGeoJSON = __webpack_require__(3);\n\n      var _parseGeoJSON2 = _interopRequireDefault(_parseGeoJSON);\n\n      var _GUID = __webpack_require__(13);\n\n      var _GUID2 = _interopRequireDefault(_GUID);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var TileMap = function () {\n        function TileMap(options) {\n          _classCallCheck(this, TileMap);\n\n          this.options = options;\n          this.mappaDiv = null;\n          this.id = (0, _GUID2.default)();\n          this.srcLoaded = false;\n        }\n\n        _createClass(TileMap, [{\n          key: 'loadSrc',\n          value: function loadSrc() {\n            var _this = this;\n\n            var scriptPromise = new Promise(function (resolve, reject) {\n              _this.scriptTag = document.createElement('script');\n              document.body.appendChild(_this.scriptTag);\n              _this.scriptTag.id = _this.options.provider;\n              _this.scriptTag.onload = resolve;\n              _this.scriptTag.onerror = reject;\n              _this.scriptTag.async = true;\n              _this.scriptTag.src = _this.scriptSrc;\n\n              if (_this.styleSrc) {\n                var styleTag = document.createElement('link');\n                document.head.appendChild(styleTag);\n                styleTag.rel = 'stylesheet';\n                styleTag.href = _this.styleSrc;\n              }\n            });\n            scriptPromise.then(function () {\n              _this.srcLoaded = true;\n            });\n          }\n        }, {\n          key: 'overlay',\n          value: function overlay(canvas, callback) {\n            var _this2 = this;\n\n            if (canvas.elt !== undefined) {\n              this.canvas = canvas.elt;\n            } else {\n              this.canvas = canvas;\n            }\n\n            this.scriptTag.onload = function () {\n              _this2.mappaDiv = document.createElement('div');\n\n              if (_this2.canvas.parentElement) {\n                _this2.canvas.parentElement.appendChild(_this2.mappaDiv);\n              } else {\n                document.body.appendChild(_this2.mappaDiv);\n              }\n\n              _this2.mappaDiv.setAttribute('style', 'width:' + canvas.width + 'px;height:' + canvas.height + 'px;');\n\n              _this2.mappaDiv.setAttribute('id', _this2.id);\n\n              _this2.createMap();\n\n              if (typeof callback === 'function') {\n                callback();\n              }\n            };\n          }\n        }, {\n          key: 'latLngToPixel',\n          value: function latLngToPixel() {\n            var pos = void 0;\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            if (_typeof(args[0]) === 'object') {\n              pos = args[0];\n            } else {\n              pos = {\n                lat: Number(args[0]),\n                lng: Number(args[1])\n              };\n            }\n\n            return this.fromLatLngToPixel(pos);\n          }\n        }, {\n          key: 'pixelToLatLng',\n          value: function pixelToLatLng() {\n            return this.fromPointToLatLng.apply(this, arguments);\n          }\n        }, {\n          key: 'zoom',\n          value: function zoom() {\n            return Math.floor(this.getZoom());\n          }\n        }, {\n          key: 'geoJSON',\n          value: function geoJSON() {\n            return (0, _parseGeoJSON2.default)(arguments.length <= 0 ? undefined : arguments[0], arguments.length <= 1 ? undefined : arguments[1]);\n          }\n        }]);\n\n        return TileMap;\n      }();\n\n      exports.default = TileMap;\n      /***/\n    },\n    /* 2 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _TileMap2 = __webpack_require__(1);\n\n      var _TileMap3 = _interopRequireDefault(_TileMap2);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      } // -----------\n      // Leaflet v1.3.0\n      // Reference: http://leafletjs.com/reference-1.3.0.html\n      //-----------\n\n\n      var Leaflet = function (_TileMap) {\n        _inherits(Leaflet, _TileMap);\n\n        function Leaflet(options) {\n          _classCallCheck(this, Leaflet);\n\n          var _this = _possibleConstructorReturn(this, (Leaflet.__proto__ || Object.getPrototypeOf(Leaflet)).call(this, options));\n\n          _this.scriptSrc = 'https://unpkg.com/leaflet@1.3.0/dist/leaflet.js';\n          _this.styleSrc = 'https://unpkg.com/leaflet@1.3.0/dist/leaflet.css';\n          _this.ready = false;\n\n          if (_this.constructor.name === 'Leaflet') {\n            _this.loadSrc();\n          }\n\n          return _this;\n        }\n\n        _createClass(Leaflet, [{\n          key: 'createMap',\n          value: function createMap() {\n            var _this2 = this;\n\n            this.map = L.map(this.id, {\n              center: [this.options.lat, this.options.lng],\n              zoom: this.options.zoom,\n              inertia: false\n            });\n\n            if (!this.options.style) {\n              Leaflet.messages().tiles();\n              this.ready = true;\n            } else {\n              this.tiles = L.tileLayer(this.options.style).addTo(this.map);\n              this.tiles.on('tileload', function () {\n                _this2.ready = true;\n              });\n            }\n\n            this.canvasOverlay();\n          }\n        }, {\n          key: 'canvasOverlay',\n          value: function canvasOverlay() {\n            var _this3 = this;\n\n            if (this.tiles) {\n              this.tiles.options.opacity = this.options.opacity;\n            }\n\n            L.overlay = L.Layer.extend({\n              onAdd: function onAdd() {\n                var overlayPane = overlay.getPane();\n                var container = L.DomUtil.create('div', 'leaflet-layer');\n                container.appendChild(_this3.canvas);\n                overlayPane.appendChild(container);\n              },\n              drawLayer: function drawLayer() {}\n            });\n            var overlay = new L.overlay();\n            this.map.addLayer(overlay);\n            var cnvs = this.canvas.getContext('webgl') || this.canvas.getContext('2d');\n            this.map.on('move', function () {\n              var d = _this3.map.dragging._draggable;\n\n              if (d._newPos) {\n                cnvs.canvas.style.transform = 'translate(' + -d._newPos.x + 'px, ' + -d._newPos.y + 'px)';\n              }\n\n              ;\n            });\n          }\n        }, {\n          key: 'fromLatLngToPixel',\n          value: function fromLatLngToPixel(position) {\n            if (this.ready) {\n              var containerPoint = this.map.latLngToContainerPoint(position);\n              return {\n                x: containerPoint.x,\n                y: containerPoint.y\n              };\n            }\n\n            return {\n              x: -100,\n              y: -100\n            };\n          }\n        }, {\n          key: 'fromPointToLatLng',\n          value: function fromPointToLatLng() {\n            if (this.ready) {\n              for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n\n              return this.map.containerPointToLatLng(args);\n            }\n\n            return {\n              lat: -100,\n              lng: -100\n            };\n          }\n        }, {\n          key: 'getZoom',\n          value: function getZoom() {\n            if (this.ready) {\n              return this.map.getZoom();\n            }\n\n            return 0;\n          }\n        }, {\n          key: 'onChange',\n          value: function onChange(callback) {\n            var _this4 = this;\n\n            if (this.ready) {\n              callback();\n              this.map.on('move', callback);\n            } else {\n              setTimeout(function () {\n                _this4.onChange(callback);\n              }, 200);\n            }\n          }\n        }, {\n          key: 'removeOnChange',\n          value: function removeOnChange(callback) {\n            this.map.on('move', callback);\n          }\n        }], [{\n          key: 'messages',\n          value: function messages() {\n            return {\n              tiles: function tiles() {\n                console.warn('You are not using any tiles for your map. Try with: http://{s}.tile.osm.org/{z}/' + '{x}/{y}.png');\n              }\n            };\n          }\n        }]);\n\n        return Leaflet;\n      }(_TileMap3.default);\n\n      exports.default = Leaflet;\n      /***/\n    },\n    /* 3 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      }); // -----------\n      // Parse a GeoJSON file.\n      // -----------\n\n      var eachFeature = function eachFeature(feature, type) {\n        if (feature.hasOwnProperty('geometry') && feature.geometry.type === type) {\n          return feature.geometry.coordinates;\n        } else if (feature.hasOwnProperty('geometries') && feature.geometries instanceof Array && feature.geometry.type === type) {\n          feature.geometries.forEach(function (geometry) {\n            return feature.geometry.coordinates;\n          });\n        } else if (feature.hasOwnProperty('coordinates') && feature.geometry.type === type) {\n          return feature.geometry.coordinates;\n        } else {\n          return null;\n        }\n      };\n\n      var parseGeoJSON = function parseGeoJSON(data, type) {\n        var result = [];\n\n        if (data.type === 'FeatureCollection') {\n          if (data.features instanceof Array) {\n            data.features.forEach(function (feature) {\n              var f = eachFeature(feature, type);\n\n              if (f != undefined) {\n                result.push(f);\n              }\n            });\n          }\n        } else {\n          result = eachFeature(data, type);\n        }\n\n        return result;\n      };\n\n      exports.default = parseGeoJSON;\n      /***/\n    },\n    /* 4 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.StaticMap = exports.Mapquest = exports.Google = exports.Mapbox = undefined;\n\n      var _Mapbox = __webpack_require__(8);\n\n      var _Mapbox2 = _interopRequireDefault(_Mapbox);\n\n      var _Google = __webpack_require__(7);\n\n      var _Google2 = _interopRequireDefault(_Google);\n\n      var _Mapquest = __webpack_require__(9);\n\n      var _Mapquest2 = _interopRequireDefault(_Mapquest);\n\n      var _StaticMap = __webpack_require__(0);\n\n      var _StaticMap2 = _interopRequireDefault(_StaticMap);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      } // -----------\n      // Static Map Providers\n      // -----------\n\n\n      exports.Mapbox = _Mapbox2.default;\n      exports.Google = _Google2.default;\n      exports.Mapquest = _Mapquest2.default;\n      exports.StaticMap = _StaticMap2.default;\n      /***/\n    },\n    /* 5 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Mapbox = exports.Leaflet = exports.Google = exports.MapboxGL = undefined;\n\n      var _MapboxGL = __webpack_require__(12);\n\n      var _MapboxGL2 = _interopRequireDefault(_MapboxGL);\n\n      var _Google = __webpack_require__(10);\n\n      var _Google2 = _interopRequireDefault(_Google);\n\n      var _Leaflet = __webpack_require__(2);\n\n      var _Leaflet2 = _interopRequireDefault(_Leaflet);\n\n      var _Mapbox = __webpack_require__(11);\n\n      var _Mapbox2 = _interopRequireDefault(_Mapbox);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      } // -----------\n      // Tile Map Providers\n      // -----------\n\n\n      exports.MapboxGL = _MapboxGL2.default;\n      exports.Google = _Google2.default;\n      exports.Leaflet = _Leaflet2.default;\n      exports.Mapbox = _Mapbox2.default;\n      /***/\n    },\n    /* 6 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _tileMap2 = __webpack_require__(5);\n\n      var _tileMap = _interopRequireWildcard(_tileMap2);\n\n      var _staticMap2 = __webpack_require__(4);\n\n      var _staticMap = _interopRequireWildcard(_staticMap2);\n\n      function _interopRequireWildcard(obj) {\n        if (obj && obj.__esModule) {\n          return obj;\n        } else {\n          var newObj = {};\n\n          if (obj != null) {\n            for (var key in obj) {\n              if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n            }\n          }\n\n          newObj.default = obj;\n          return newObj;\n        }\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var Mappa = function () {\n        function Mappa(provider, key) {\n          _classCallCheck(this, Mappa);\n\n          this.provider = provider;\n          this.key = key;\n        }\n\n        _createClass(Mappa, [{\n          key: 'staticMap',\n          value: function staticMap() {\n            var options = {};\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            if (_typeof(args[0]) === 'object') {\n              options = Object.assign({}, args[0]);\n            } else {\n              var opts = _staticMap[this.provider].options().userInput;\n\n              args.forEach(function (el, i) {\n                var option = opts[i];\n                options[option] = el;\n              });\n            }\n\n            options.key = this.key;\n\n            if (this.provider === undefined) {\n              this.provider = 'StaticMap';\n            }\n\n            return new _staticMap[this.provider](options);\n          }\n        }, {\n          key: 'tileMap',\n          value: function tileMap() {\n            for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n              args[_key2] = arguments[_key2];\n            }\n\n            var options = {};\n\n            if (_typeof(args[0]) === 'object') {\n              options = Object.assign({}, args[0]);\n            } else {\n              ['lat', 'lng', 'zoom'].forEach(function (el, i) {\n                options[el] = args[i];\n              });\n            }\n\n            options.key = this.key;\n            options.provider = this.provider;\n            return new _tileMap[this.provider](options);\n          }\n        }]);\n\n        return Mappa;\n      }();\n\n      console.log('Mappa loaded!');\n      module.exports = Mappa;\n      /***/\n    },\n    /* 7 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _StaticMap2 = __webpack_require__(0);\n\n      var _StaticMap3 = _interopRequireDefault(_StaticMap2);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      } // -----------\n      // Google Static Maps API v2\n      // Reference: https://developers.google.com/maps/documentation/static-maps/\n      // -----------\n\n\n      var Google = function (_StaticMap) {\n        _inherits(Google, _StaticMap);\n\n        function Google(options) {\n          _classCallCheck(this, Google);\n\n          var _this = _possibleConstructorReturn(this, (Google.__proto__ || Object.getPrototypeOf(Google)).call(this, options));\n\n          _this.imgUrl = 'https://maps.googleapis.com/maps/api/staticmap?';\n\n          _this.createImage();\n\n          return _this;\n        }\n\n        _createClass(Google, [{\n          key: 'init',\n          value: function init() {\n            if (this.options.scale === 1 || this.options.scale === undefined) {\n              this.options.pixels = 128;\n              this.options.scale = 1;\n            } else if (this.options.scale === 2) {\n              this.options.pixels = 256;\n            }\n\n            if (this.options.width > 640) {\n              Google.messages().size('width', this.options.width);\n              this.options.width = 640;\n            }\n\n            if (this.options.height > 640) {\n              Google.messages().size('height', this.options.height);\n              this.options.height = 640;\n            }\n          }\n        }, {\n          key: 'createImage',\n          value: function createImage() {\n            var _this2 = this;\n\n            if (!this.options.key) {\n              delete this.options.key;\n              Google.messages().key();\n            }\n\n            if (!this.options.center) {\n              this.options.center = this.options.lat + ',' + this.options.lng;\n            }\n\n            if (!this.options.scale) {\n              this.options.scale = 1;\n            }\n\n            this.options.size = this.options.width + 'x' + this.options.height;\n            Object.keys(this.options).forEach(function (option) {\n              if (Google.options().valid.indexOf(option) > -1) {\n                _this2.imgUrl += '&' + option + '=' + _this2.options[option];\n              }\n            });\n            return this.imgUrl;\n          }\n        }], [{\n          key: 'options',\n          value: function options() {\n            return {\n              valid: ['center', 'zoom', 'size', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'signature', 'key', 'signature'],\n              userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'key', 'signature', 'center']\n            };\n          }\n        }, {\n          key: 'messages',\n          value: function messages() {\n            return {\n              size: function size(s, m) {\n                console.warn('You requested an image with a ' + s + ' of ' + m + 'px. Google Maps Static API max ' + s + ' value is 640px. For larger images, change the scale to 2 and keep the ' + s + ' between 1-640px. i.e: if you want an image 800x800px, set the width and height to 400x400 and the scale to 2.');\n              },\n              key: function key() {\n                console.warn('For better results please provide an API key for your Google Maps Static API.');\n              }\n            };\n          }\n        }]);\n\n        return Google;\n      }(_StaticMap3.default);\n\n      exports.default = Google;\n      /***/\n    },\n    /* 8 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _StaticMap2 = __webpack_require__(0);\n\n      var _StaticMap3 = _interopRequireDefault(_StaticMap2);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      } // -----------\n      // Mapbox Static API v1\n      // Reference: https://www.mapbox.com/api-documentation/#static\n      // -----------\n\n\n      var Mapbox = function (_StaticMap) {\n        _inherits(Mapbox, _StaticMap);\n\n        function Mapbox(options) {\n          _classCallCheck(this, Mapbox);\n\n          var _this = _possibleConstructorReturn(this, (Mapbox.__proto__ || Object.getPrototypeOf(Mapbox)).call(this, options));\n\n          _this.imgUrl = 'https://api.mapbox.com/styles/v1/';\n\n          _this.createImage();\n\n          return _this;\n        }\n\n        _createClass(Mapbox, [{\n          key: 'init',\n          value: function init() {\n            this.options.pixels = 256;\n\n            if (!this.options.scale) {\n              this.options.scale = 1;\n            }\n\n            if (this.options.scale === 2) {\n              this.options.pixels = 512;\n            } else {\n              if (this.options.width > 1280) {\n                Mapbox.messages().size('width', this.options.width);\n                this.options.width = 1280;\n              }\n\n              if (this.options.height > 1280) {\n                Mapbox.messages().size('height', this.options.width);\n                this.options.height = 1280;\n              }\n            }\n          }\n        }, {\n          key: 'createImage',\n          value: function createImage() {\n            var _this2 = this;\n\n            if (!this.options.key) {\n              Mapbox.messages().key();\n              return null;\n            }\n\n            if (this.options.username !== undefined) {\n              this.imgUrl += this.options.username + '/';\n            } else {\n              this.imgUrl += 'mapbox/';\n            }\n\n            if (this.options.style !== undefined) {\n              this.imgUrl += this.options.style + '/';\n            } else {\n              this.imgUrl += 'streets-v10/';\n            }\n\n            this.imgUrl += 'static/';\n\n            if (this.options.overlay !== undefined) {\n              this.imgUrl += this.options.overlay + '/';\n            }\n\n            this.imgUrl += this.options.lng + ',' + this.options.lat + ',';\n\n            if (this.options.auto === false || this.options.auto === undefined) {\n              ['zoom', 'bearing', 'pitch'].forEach(function (e, i) {\n                if (_this2.options[e] !== undefined) {\n                  _this2.imgUrl += _this2.options[e];\n                } else {\n                  _this2.imgUrl += 0;\n                }\n\n                if (i < 2) {\n                  _this2.imgUrl += ',';\n                }\n              });\n            } else {\n              this.imgUrl += 'auto';\n            }\n\n            this.imgUrl += '/' + this.options.width + 'x' + this.options.height;\n\n            if (this.options.scale === 2) {\n              this.imgUrl += '@2x';\n            }\n\n            this.imgUrl += '?access_token=' + this.options.key;\n\n            if (this.options.attribution) {\n              this.imgUrl += '&attribution=' + this.options.attribution;\n            } else {\n              this.imgUrl += '&attribution=false';\n            }\n\n            if (this.options.logo) {\n              this.imgUrl += '&logo=' + this.options.logo;\n            } else {\n              this.imgUrl += '&logo=false';\n            }\n\n            if (this.options.before_layer) {\n              this.imgUrl += '&before_layer=' + this.options.before_layer;\n            } else {\n              this.imgUrl += '&before_layer=false';\n            }\n\n            return this.imgUrl;\n          }\n        }], [{\n          key: 'options',\n          value: function options() {\n            return {\n              valid: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size'],\n              userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size']\n            };\n          }\n        }, {\n          key: 'messages',\n          value: function messages() {\n            return {\n              size: function size(s, m) {\n                return console.warn('You requested an image with a ' + s + ' of ' + m + 'px. Mapbox Static API max ' + s + ' value is 1280px. If you want a large image change the scale to 2.');\n              },\n              key: function key() {\n                console.error('Mapbox Static API needs a key to work. To get a key visit: https://www.mapbox.com/api-documentation/#static');\n              }\n            };\n          }\n        }]);\n\n        return Mapbox;\n      }(_StaticMap3.default);\n\n      exports.default = Mapbox;\n      /***/\n    },\n    /* 9 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _StaticMap2 = __webpack_require__(0);\n\n      var _StaticMap3 = _interopRequireDefault(_StaticMap2);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      } // -----------\n      // Mapquest v5\n      // Reference: https://developer.mapquest.com/documentation/static-map-api/v5/\n      // -----------\n\n\n      var Mapquest = function (_StaticMap) {\n        _inherits(Mapquest, _StaticMap);\n\n        function Mapquest(options) {\n          _classCallCheck(this, Mapquest);\n\n          var _this = _possibleConstructorReturn(this, (Mapquest.__proto__ || Object.getPrototypeOf(Mapquest)).call(this, options));\n\n          _this.imgUrl = 'https://www.mapquestapi.com/staticmap/v5/map?';\n\n          _this.createImage();\n\n          return _this;\n        }\n\n        _createClass(Mapquest, [{\n          key: 'init',\n          value: function init() {\n            if (this.options.scale === 1 || this.options.scale === undefined) {\n              this.options.pixels = 128;\n              this.options.scale = 1;\n            } else if (this.options.scale === 2) {\n              this.options.pixels = 256;\n            }\n\n            if (this.options.width > 1920) {\n              Mapquest.messages().size('width', this.options.width);\n              this.options.width = 1920;\n            }\n\n            if (this.options.height > 1920) {\n              Mapquest.messages().size('height', this.options.height);\n              this.options.height = 1920;\n            }\n          }\n        }, {\n          key: 'createImage',\n          value: function createImage() {\n            var _this2 = this;\n\n            if (!this.options.key) {\n              Mapquest.messages().key();\n              return null;\n            }\n\n            this.options.size = this.options.width + ',' + this.options.height;\n\n            if (this.options.scale === 2) {\n              this.options.size += '@2x';\n            }\n\n            if (!this.options.center) {\n              this.options.center = this.options.lat + ',' + this.options.lng;\n            }\n\n            Object.keys(this.options).forEach(function (opt) {\n              if (Mapquest.options().valid.indexOf(opt) > -1) {\n                _this2.imgUrl += '&' + opt + '=' + _this2.options[opt];\n              }\n            });\n            return this.imgUrl;\n          }\n        }], [{\n          key: 'options',\n          value: function options() {\n            return {\n              valid: ['key', 'size', 'zoom', 'center', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key'],\n              userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key']\n            };\n          }\n        }, {\n          key: 'messages',\n          value: function messages() {\n            return {\n              size: function size(s, m) {\n                console.warn('You requested an image with a ' + s + ' of ' + m + 'px. Mapquest Static API max ' + s + ' value is 1920px. For larger images, change the scale to 2 and keep the ' + s + ' between 170x30px. i.e: if you want an 3840x3840px image, set the width and height to 1920x1920 and the scale to 2.');\n              },\n              key: function key() {\n                console.warn('Please provide and API key to work with Mapquest Static API. Get one here: https://developer.mapquest.com/documentation/');\n              }\n            };\n          }\n        }]);\n\n        return Mapquest;\n      }(_StaticMap3.default);\n\n      exports.default = Mapquest;\n      /***/\n    },\n    /* 10 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _TileMap2 = __webpack_require__(1);\n\n      var _TileMap3 = _interopRequireDefault(_TileMap2);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      } // -----------\n      // Google Maps JavaScript v3.28\n      // Reference: https://developers.google.com/maps/documentation/javascript/\n      // -----------\n\n\n      var Google = function (_TileMap) {\n        _inherits(Google, _TileMap);\n\n        function Google(options) {\n          _classCallCheck(this, Google);\n\n          var _this = _possibleConstructorReturn(this, (Google.__proto__ || Object.getPrototypeOf(Google)).call(this, options));\n\n          _this.scriptSrc = 'https://maps.googleapis.com/maps/api/js?v=3';\n\n          if (_this.options.key) {\n            _this.scriptSrc += '&key=' + _this.options.key;\n          }\n\n          if (_this.options.language) {\n            _this.scriptSrc += '&language=' + _this.options.language;\n          }\n\n          if (_this.options.region) {\n            _this.scriptSrc += '&region=' + _this.options.region;\n          }\n\n          _this.onChangeMethods = {};\n\n          _this.loadSrc();\n\n          return _this;\n        }\n\n        _createClass(Google, [{\n          key: 'createMap',\n          value: function createMap() {\n            var _this2 = this;\n\n            if (!this.options.key) {\n              Google.messages().key();\n            }\n\n            this.map = new google.maps.Map(document.getElementById(this.id), {\n              center: {\n                lat: this.options.lat,\n                lng: this.options.lng\n              },\n              zoom: this.options.zoom || 6,\n              mapTypeId: this.options.maptype || 'terrain',\n              styles: this.options.styles || '',\n              minZoom: 1 || this.options.minZoom\n            });\n            var overlay = new google.maps.OverlayView();\n\n            overlay.onAdd = function () {\n              overlay.getPanes().overlayLayer.appendChild(_this2.canvas);\n            };\n\n            overlay.draw = function () {};\n\n            overlay.setMap(this.map);\n            google.maps.event.addListener(this.map, 'bounds_changed', function () {\n              var center = overlay.getProjection().fromLatLngToDivPixel(_this2.map.getCenter());\n              var pixels = 2;\n\n              if (window.devicePixelRatio >= 2) {\n                pixels = 4;\n              }\n\n              var offsetX = -Math.round(_this2.canvas.width / pixels - center.x);\n              var offsetY = -Math.round(_this2.canvas.height / pixels - center.y);\n\n              var cvs = _this2.canvas.getContext('webgl') || _this2.canvas.getContext('2d');\n\n              cvs.canvas.style.transform = 'translate(' + offsetX + 'px,' + offsetY + 'px)';\n            });\n            google.maps.event.addListenerOnce(this.map, 'tilesloaded', function () {\n              _this2.ready = true;\n            });\n          }\n        }, {\n          key: 'fromLatLngToPixel',\n          value: function fromLatLngToPixel(inputPos) {\n            if (this.ready) {\n              var position = new google.maps.LatLng(inputPos);\n              var topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n              var bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n              var scale = Math.pow(2, this.map.getZoom());\n              var point = this.map.getProjection().fromLatLngToPoint(position);\n              return new google.maps.Point((point.x - bottomLeft.x) * scale, (point.y - topRight.y) * scale);\n            }\n\n            return {\n              x: -100,\n              y: -100\n            };\n          }\n        }, {\n          key: 'fromPointToLatLng',\n          value: function fromPointToLatLng() {\n            if (this.ready) {\n              var topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n              var bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n              var scale = Math.pow(2, this.map.getZoom());\n              var point = new google.maps.Point((arguments.length <= 0 ? undefined : arguments[0]) / scale + bottomLeft.x, (arguments.length <= 1 ? undefined : arguments[1]) / scale + topRight.y);\n              var latlng = this.map.getProjection().fromPointToLatLng(point);\n              return {\n                lat: latlng.lat(),\n                lng: latlng.lng()\n              };\n            }\n\n            return {\n              lat: -100,\n              lng: -100\n            };\n          }\n        }, {\n          key: 'getZoom',\n          value: function getZoom() {\n            if (this.ready) {\n              return this.map.getZoom();\n            }\n\n            return 0;\n          }\n        }, {\n          key: 'onChange',\n          value: function onChange(callback) {\n            var _this3 = this;\n\n            if (this.ready) {\n              callback();\n              this.onChangeMethods[callback] = google.maps.event.addListener(this.map, 'bounds_changed', callback);\n            } else {\n              setTimeout(function () {\n                _this3.onChange(callback);\n              }, 200);\n            }\n          }\n        }, {\n          key: 'removeOnChange',\n          value: function removeOnChange(callback) {\n            google.maps.event.removeListener(this.onChangeMethods[callback]);\n          }\n        }], [{\n          key: 'messages',\n          value: function messages() {\n            return {\n              key: function key() {\n                console.warn('Please provide a Goolge Maps API Key. Get one here: https://developers.google.com/maps/documentation/javascript/ ');\n              }\n            };\n          }\n        }]);\n\n        return Google;\n      }(_TileMap3.default);\n\n      exports.default = Google;\n      /***/\n    },\n    /* 11 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _Leaflet2 = __webpack_require__(2);\n\n      var _Leaflet3 = _interopRequireDefault(_Leaflet2);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      } // -----------\n      // Mapbox v3.1.1\n      // Reference: https://www.mapbox.com/mapbox.js/api/v3.1.1/\n      // -----------\n\n\n      var Mapbox = function (_Leaflet) {\n        _inherits(Mapbox, _Leaflet);\n\n        function Mapbox(options) {\n          _classCallCheck(this, Mapbox);\n\n          var _this = _possibleConstructorReturn(this, (Mapbox.__proto__ || Object.getPrototypeOf(Mapbox)).call(this, options));\n\n          _this.scriptSrc = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js';\n          _this.styleSrc = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css';\n\n          _this.loadSrc();\n\n          return _this;\n        }\n\n        _createClass(Mapbox, [{\n          key: 'createMap',\n          value: function createMap() {\n            var _this2 = this;\n\n            if (this.options.key) {\n              L.mapbox.accessToken = this.options.key;\n            } else {\n              Mapbox.messages().key();\n            }\n\n            this.map = L.mapbox.map(this.id).setView([this.options.lat, this.options.lng], this.options.zoom);\n\n            if (this.options.studio) {\n              this.tiles = L.mapbox.styleLayer(this.options.style || 'mapbox://styles/mapbox/emerald-v8').addTo(this.map);\n            } else {\n              this.tiles = L.mapbox.tileLayer(this.options.style || 'mapbox.streets').addTo(this.map);\n            }\n\n            this.tiles.on('ready', function () {\n              _this2.ready = true;\n            });\n            this.canvasOverlay();\n          }\n        }], [{\n          key: 'messages',\n          value: function messages() {\n            return {\n              key: function key() {\n                console.warn('Please provide a Mapbox API key. Get one here: https://www.mapbox.com/mapbox.js/api/v3.1.1');\n              }\n            };\n          }\n        }]);\n\n        return Mapbox;\n      }(_Leaflet3.default);\n\n      exports.default = Mapbox;\n      /***/\n    },\n    /* 12 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);\n          if (staticProps) defineProperties(Constructor, staticProps);\n          return Constructor;\n        };\n      }();\n\n      var _TileMap2 = __webpack_require__(1);\n\n      var _TileMap3 = _interopRequireDefault(_TileMap2);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      function _possibleConstructorReturn(self, call) {\n        if (!self) {\n          throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n      }\n\n      function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n          throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n          constructor: {\n            value: subClass,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n      } // -----------\n      // Mapbox-gl v0.43.0\n      // Reference: https://www.mapbox.com/mapbox-gl-js/api/\n      // -----------\n\n\n      var MapboxGL = function (_TileMap) {\n        _inherits(MapboxGL, _TileMap);\n\n        function MapboxGL(options) {\n          _classCallCheck(this, MapboxGL);\n\n          var _this = _possibleConstructorReturn(this, (MapboxGL.__proto__ || Object.getPrototypeOf(MapboxGL)).call(this, options));\n\n          _this.scriptSrc = 'https://api.mapbox.com/mapbox-gl-js/v0.43.0/mapbox-gl.js';\n          _this.styleSrc = 'https://api.mapbox.com/mapbox-gl-js/v0.43.0/mapbox-gl.css';\n          _this.ready = false;\n\n          if (!_this.options.key) {\n            MapboxGL.messages().key();\n          } else {\n            _this.loadSrc();\n          }\n\n          return _this;\n        }\n\n        _createClass(MapboxGL, [{\n          key: 'createMap',\n          value: function createMap() {\n            var _this2 = this;\n\n            mapboxgl.accessToken = this.options.key;\n            this.map = new mapboxgl.Map({\n              container: this.id,\n              style: this.options.style || 'mapbox://styles/mapbox/satellite-streets-v10',\n              center: [this.options.lng, this.options.lat],\n              zoom: this.options.zoom,\n              minZoom: this.options.minZoom || 0,\n              maxZoom: this.options.maxZoom || 22,\n              bearing: this.options.bearing || 0,\n              pitch: this.options.pitch || 0,\n              renderWorldCopies: true && this.options.renderWorldCopies,\n              maxBounds: this.options.maxBounds || undefined\n            });\n            this.map.getCanvasContainer().appendChild(this.canvas);\n            this.canvas.style.position = 'relative';\n\n            if (this.options.opacity) {\n              document.getElementsByClassName('mapboxgl-canvas')[0].style.opacity = this.options.opacity;\n            }\n\n            this.map.on('load', function () {\n              _this2.ready = true;\n            });\n          }\n        }, {\n          key: 'fromLatLngToPixel',\n          value: function fromLatLngToPixel(latLng) {\n            if (this.ready) {\n              return this.map.project(latLng);\n            }\n\n            return {\n              x: -100,\n              y: -100\n            };\n          }\n        }, {\n          key: 'fromPointToLatLng',\n          value: function fromPointToLatLng() {\n            if (this.ready) {\n              for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n\n              return this.map.unproject(args);\n            }\n\n            return {\n              lat: -100,\n              lng: -100\n            };\n          }\n        }, {\n          key: 'getZoom',\n          value: function getZoom() {\n            if (this.ready) {\n              return this.map.getZoom();\n            }\n\n            return 0;\n          }\n        }, {\n          key: 'onChange',\n          value: function onChange(callback) {\n            var _this3 = this;\n\n            if (this.ready) {\n              callback();\n              this.map.on('render', callback);\n            } else {\n              setTimeout(function () {\n                _this3.onChange(callback);\n              }, 200);\n            }\n          }\n        }, {\n          key: 'removeOnChange',\n          value: function removeOnChange(callback) {\n            this.map.off('render', callback);\n          }\n        }], [{\n          key: 'messages',\n          value: function messages() {\n            return {\n              key: function key() {\n                console.warn('Please provide a Mapbox-gl API key. Get one here: https://www.mapbox.com/mapbox-gl-js/api/');\n              }\n            };\n          }\n        }]);\n\n        return MapboxGL;\n      }(_TileMap3.default);\n\n      exports.default = MapboxGL;\n      /***/\n    },\n    /* 13 */\n\n    /***/\n    function (module, exports, __webpack_require__) {\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      }); // GUID Generator\n\n      var s4 = function s4() {\n        return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n      };\n\n      var GUID = function GUID() {\n        return \"\" + s4() + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + s4() + s4();\n      };\n\n      exports.default = GUID;\n      /***/\n    }\n    /******/\n    ])\n  );\n});","map":{"version":3,"sources":["/Users/aluan/Documents/GitHub/GeoPunk/node_modules/mappa.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","_createClass","defineProperties","target","props","length","descriptor","writable","key","Constructor","protoProps","staticProps","_parseGeoJSON","_parseGeoJSON2","_interopRequireDefault","obj","default","_classCallCheck","instance","TypeError","StaticMap","options","init","pixels","scale","latLngToPixel","lat","lng","x","fromLngToPoint","width","y","fromLatToPoint","height","Math","PI","pow","zoom","log","tan","geoJSON","arguments","undefined","_typeof","Symbol","iterator","constructor","_GUID","_GUID2","TileMap","mappaDiv","id","srcLoaded","loadSrc","_this","scriptPromise","Promise","resolve","reject","scriptTag","document","createElement","body","appendChild","provider","onload","onerror","async","src","scriptSrc","styleSrc","styleTag","head","rel","href","then","overlay","canvas","callback","_this2","elt","parentElement","setAttribute","createMap","pos","_len","args","Array","_key","Number","fromLatLngToPixel","pixelToLatLng","fromPointToLatLng","apply","floor","getZoom","_TileMap2","_TileMap3","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","Leaflet","_TileMap","getPrototypeOf","ready","map","L","center","inertia","style","messages","tiles","tileLayer","addTo","on","canvasOverlay","_this3","opacity","Layer","extend","onAdd","overlayPane","getPane","container","DomUtil","drawLayer","addLayer","cnvs","getContext","dragging","_draggable","_newPos","transform","position","containerPoint","latLngToContainerPoint","containerPointToLatLng","onChange","_this4","setTimeout","removeOnChange","console","warn","eachFeature","feature","type","geometry","coordinates","geometries","forEach","parseGeoJSON","data","result","features","f","push","Mapquest","Google","Mapbox","_Mapbox","_Mapbox2","_Google","_Google2","_Mapquest","_Mapquest2","_StaticMap","_StaticMap2","MapboxGL","_MapboxGL","_MapboxGL2","_Leaflet","_Leaflet2","_tileMap2","_tileMap","_interopRequireWildcard","_staticMap2","_staticMap","newObj","Mappa","staticMap","assign","opts","userInput","el","option","tileMap","_len2","_key2","_StaticMap3","imgUrl","createImage","size","keys","valid","indexOf","username","auto","e","attribution","logo","before_layer","error","opt","language","region","onChangeMethods","google","maps","Map","getElementById","mapTypeId","maptype","styles","minZoom","OverlayView","getPanes","overlayLayer","draw","setMap","event","addListener","getProjection","fromLatLngToDivPixel","getCenter","window","devicePixelRatio","offsetX","round","offsetY","cvs","addListenerOnce","inputPos","LatLng","topRight","fromLatLngToPoint","getBounds","getNorthEast","bottomLeft","getSouthWest","point","Point","latlng","removeListener","_Leaflet3","mapbox","accessToken","setView","studio","styleLayer","mapboxgl","maxZoom","bearing","pitch","renderWorldCopies","maxBounds","getCanvasContainer","getElementsByClassName","latLng","project","unproject","off","s4","random","toString","substring","GUID"],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Mappa\"] = factory();\n\telse\n\t\troot[\"Mappa\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // -----------\n// Static Map\n// -----------\n\nvar _parseGeoJSON = __webpack_require__(3);\n\nvar _parseGeoJSON2 = _interopRequireDefault(_parseGeoJSON);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar StaticMap = function () {\n  function StaticMap(options) {\n    _classCallCheck(this, StaticMap);\n\n    this.options = options;\n    this.init();\n  }\n\n  _createClass(StaticMap, [{\n    key: 'init',\n    value: function init() {\n      this.options.pixels = 256;\n      if (!this.options.scale) {\n        this.options.scale = 1;\n      }\n      if (this.options.scale === 2) {\n        this.options.pixels = 512;\n      }\n    }\n  }, {\n    key: 'latLngToPixel',\n    value: function latLngToPixel(lat, lng) {\n      return {\n        x: this.fromLngToPoint(lng) - this.fromLngToPoint(this.options.lng) + this.options.width / (2 / this.options.scale),\n        y: this.fromLatToPoint(lat) - this.fromLatToPoint(this.options.lat) + this.options.height / (2 / this.options.scale)\n      };\n    }\n  }, {\n    key: 'fromLatToPoint',\n    value: function fromLatToPoint(l) {\n      return this.options.pixels / Math.PI * Math.pow(2, this.options.zoom) * (Math.PI - Math.log(Math.tan(Math.PI / 4 + l * Math.PI / 180 / 2)));\n    }\n  }, {\n    key: 'fromLngToPoint',\n    value: function fromLngToPoint(l) {\n      return this.options.pixels / Math.PI * Math.pow(2, this.options.zoom) * (l * Math.PI / 180 + Math.PI);\n    }\n  }], [{\n    key: 'geoJSON',\n    value: function geoJSON() {\n      return (0, _parseGeoJSON2.default)(arguments.length <= 0 ? undefined : arguments[0], arguments.length <= 1 ? undefined : arguments[1]);\n    }\n  }]);\n\n  return StaticMap;\n}();\n\nexports.default = StaticMap;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // -----------\n// Tile Map\n// -----------\n\nvar _parseGeoJSON = __webpack_require__(3);\n\nvar _parseGeoJSON2 = _interopRequireDefault(_parseGeoJSON);\n\nvar _GUID = __webpack_require__(13);\n\nvar _GUID2 = _interopRequireDefault(_GUID);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TileMap = function () {\n  function TileMap(options) {\n    _classCallCheck(this, TileMap);\n\n    this.options = options;\n    this.mappaDiv = null;\n    this.id = (0, _GUID2.default)();\n    this.srcLoaded = false;\n  }\n\n  _createClass(TileMap, [{\n    key: 'loadSrc',\n    value: function loadSrc() {\n      var _this = this;\n\n      var scriptPromise = new Promise(function (resolve, reject) {\n        _this.scriptTag = document.createElement('script');\n        document.body.appendChild(_this.scriptTag);\n        _this.scriptTag.id = _this.options.provider;\n        _this.scriptTag.onload = resolve;\n        _this.scriptTag.onerror = reject;\n        _this.scriptTag.async = true;\n        _this.scriptTag.src = _this.scriptSrc;\n        if (_this.styleSrc) {\n          var styleTag = document.createElement('link');\n          document.head.appendChild(styleTag);\n          styleTag.rel = 'stylesheet';\n          styleTag.href = _this.styleSrc;\n        }\n      });\n      scriptPromise.then(function () {\n        _this.srcLoaded = true;\n      });\n    }\n  }, {\n    key: 'overlay',\n    value: function overlay(canvas, callback) {\n      var _this2 = this;\n\n      if (canvas.elt !== undefined) {\n        this.canvas = canvas.elt;\n      } else {\n        this.canvas = canvas;\n      }\n      this.scriptTag.onload = function () {\n        _this2.mappaDiv = document.createElement('div');\n        if (_this2.canvas.parentElement) {\n          _this2.canvas.parentElement.appendChild(_this2.mappaDiv);\n        } else {\n          document.body.appendChild(_this2.mappaDiv);\n        }\n        _this2.mappaDiv.setAttribute('style', 'width:' + canvas.width + 'px;height:' + canvas.height + 'px;');\n        _this2.mappaDiv.setAttribute('id', _this2.id);\n        _this2.createMap();\n        if (typeof callback === 'function') {\n          callback();\n        }\n      };\n    }\n  }, {\n    key: 'latLngToPixel',\n    value: function latLngToPixel() {\n      var pos = void 0;\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (_typeof(args[0]) === 'object') {\n        pos = args[0];\n      } else {\n        pos = {\n          lat: Number(args[0]),\n          lng: Number(args[1])\n        };\n      }\n      return this.fromLatLngToPixel(pos);\n    }\n  }, {\n    key: 'pixelToLatLng',\n    value: function pixelToLatLng() {\n      return this.fromPointToLatLng.apply(this, arguments);\n    }\n  }, {\n    key: 'zoom',\n    value: function zoom() {\n      return Math.floor(this.getZoom());\n    }\n  }, {\n    key: 'geoJSON',\n    value: function geoJSON() {\n      return (0, _parseGeoJSON2.default)(arguments.length <= 0 ? undefined : arguments[0], arguments.length <= 1 ? undefined : arguments[1]);\n    }\n  }]);\n\n  return TileMap;\n}();\n\nexports.default = TileMap;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _TileMap2 = __webpack_require__(1);\n\nvar _TileMap3 = _interopRequireDefault(_TileMap2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Leaflet v1.3.0\n// Reference: http://leafletjs.com/reference-1.3.0.html\n//-----------\n\nvar Leaflet = function (_TileMap) {\n  _inherits(Leaflet, _TileMap);\n\n  function Leaflet(options) {\n    _classCallCheck(this, Leaflet);\n\n    var _this = _possibleConstructorReturn(this, (Leaflet.__proto__ || Object.getPrototypeOf(Leaflet)).call(this, options));\n\n    _this.scriptSrc = 'https://unpkg.com/leaflet@1.3.0/dist/leaflet.js';\n    _this.styleSrc = 'https://unpkg.com/leaflet@1.3.0/dist/leaflet.css';\n    _this.ready = false;\n    if (_this.constructor.name === 'Leaflet') {\n      _this.loadSrc();\n    }\n    return _this;\n  }\n\n  _createClass(Leaflet, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      this.map = L.map(this.id, {\n        center: [this.options.lat, this.options.lng],\n        zoom: this.options.zoom,\n        inertia: false\n      });\n\n      if (!this.options.style) {\n        Leaflet.messages().tiles();\n        this.ready = true;\n      } else {\n        this.tiles = L.tileLayer(this.options.style).addTo(this.map);\n        this.tiles.on('tileload', function () {\n          _this2.ready = true;\n        });\n      }\n      this.canvasOverlay();\n    }\n  }, {\n    key: 'canvasOverlay',\n    value: function canvasOverlay() {\n      var _this3 = this;\n\n      if (this.tiles) {\n        this.tiles.options.opacity = this.options.opacity;\n      }\n      L.overlay = L.Layer.extend({\n        onAdd: function onAdd() {\n          var overlayPane = overlay.getPane();\n          var container = L.DomUtil.create('div', 'leaflet-layer');\n          container.appendChild(_this3.canvas);\n          overlayPane.appendChild(container);\n        },\n        drawLayer: function drawLayer() {}\n      });\n      var overlay = new L.overlay();\n      this.map.addLayer(overlay);\n\n      var cnvs = this.canvas.getContext('webgl') || this.canvas.getContext('2d');\n      this.map.on('move', function () {\n        var d = _this3.map.dragging._draggable;\n        if (d._newPos) {\n          cnvs.canvas.style.transform = 'translate(' + -d._newPos.x + 'px, ' + -d._newPos.y + 'px)';\n        };\n      });\n    }\n  }, {\n    key: 'fromLatLngToPixel',\n    value: function fromLatLngToPixel(position) {\n      if (this.ready) {\n        var containerPoint = this.map.latLngToContainerPoint(position);\n        return {\n          x: containerPoint.x,\n          y: containerPoint.y\n        };\n      }\n      return {\n        x: -100,\n        y: -100\n      };\n    }\n  }, {\n    key: 'fromPointToLatLng',\n    value: function fromPointToLatLng() {\n      if (this.ready) {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return this.map.containerPointToLatLng(args);\n      }\n      return {\n        lat: -100,\n        lng: -100\n      };\n    }\n  }, {\n    key: 'getZoom',\n    value: function getZoom() {\n      if (this.ready) {\n        return this.map.getZoom();\n      }\n      return 0;\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(callback) {\n      var _this4 = this;\n\n      if (this.ready) {\n        callback();\n        this.map.on('move', callback);\n      } else {\n        setTimeout(function () {\n          _this4.onChange(callback);\n        }, 200);\n      }\n    }\n  }, {\n    key: 'removeOnChange',\n    value: function removeOnChange(callback) {\n      this.map.on('move', callback);\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        tiles: function tiles() {\n          console.warn('You are not using any tiles for your map. Try with: http://{s}.tile.osm.org/{z}/' + '{x}/{y}.png');\n        }\n      };\n    }\n  }]);\n\n  return Leaflet;\n}(_TileMap3.default);\n\nexports.default = Leaflet;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// -----------\n// Parse a GeoJSON file.\n// -----------\n\nvar eachFeature = function eachFeature(feature, type) {\n  if (feature.hasOwnProperty('geometry') && feature.geometry.type === type) {\n    return feature.geometry.coordinates;\n  } else if (feature.hasOwnProperty('geometries') && feature.geometries instanceof Array && feature.geometry.type === type) {\n    feature.geometries.forEach(function (geometry) {\n      return feature.geometry.coordinates;\n    });\n  } else if (feature.hasOwnProperty('coordinates') && feature.geometry.type === type) {\n    return feature.geometry.coordinates;\n  } else {\n    return null;\n  }\n};\n\nvar parseGeoJSON = function parseGeoJSON(data, type) {\n  var result = [];\n\n  if (data.type === 'FeatureCollection') {\n    if (data.features instanceof Array) {\n      data.features.forEach(function (feature) {\n        var f = eachFeature(feature, type);\n        if (f != undefined) {\n          result.push(f);\n        }\n      });\n    }\n  } else {\n    result = eachFeature(data, type);\n  }\n  return result;\n};\n\nexports.default = parseGeoJSON;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StaticMap = exports.Mapquest = exports.Google = exports.Mapbox = undefined;\n\nvar _Mapbox = __webpack_require__(8);\n\nvar _Mapbox2 = _interopRequireDefault(_Mapbox);\n\nvar _Google = __webpack_require__(7);\n\nvar _Google2 = _interopRequireDefault(_Google);\n\nvar _Mapquest = __webpack_require__(9);\n\nvar _Mapquest2 = _interopRequireDefault(_Mapquest);\n\nvar _StaticMap = __webpack_require__(0);\n\nvar _StaticMap2 = _interopRequireDefault(_StaticMap);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// -----------\n// Static Map Providers\n// -----------\n\nexports.Mapbox = _Mapbox2.default;\nexports.Google = _Google2.default;\nexports.Mapquest = _Mapquest2.default;\nexports.StaticMap = _StaticMap2.default;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Mapbox = exports.Leaflet = exports.Google = exports.MapboxGL = undefined;\n\nvar _MapboxGL = __webpack_require__(12);\n\nvar _MapboxGL2 = _interopRequireDefault(_MapboxGL);\n\nvar _Google = __webpack_require__(10);\n\nvar _Google2 = _interopRequireDefault(_Google);\n\nvar _Leaflet = __webpack_require__(2);\n\nvar _Leaflet2 = _interopRequireDefault(_Leaflet);\n\nvar _Mapbox = __webpack_require__(11);\n\nvar _Mapbox2 = _interopRequireDefault(_Mapbox);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// -----------\n// Tile Map Providers\n// -----------\n\nexports.MapboxGL = _MapboxGL2.default;\nexports.Google = _Google2.default;\nexports.Leaflet = _Leaflet2.default;\nexports.Mapbox = _Mapbox2.default;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tileMap2 = __webpack_require__(5);\n\nvar _tileMap = _interopRequireWildcard(_tileMap2);\n\nvar _staticMap2 = __webpack_require__(4);\n\nvar _staticMap = _interopRequireWildcard(_staticMap2);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Mappa = function () {\n  function Mappa(provider, key) {\n    _classCallCheck(this, Mappa);\n\n    this.provider = provider;\n    this.key = key;\n  }\n\n  _createClass(Mappa, [{\n    key: 'staticMap',\n    value: function staticMap() {\n      var options = {};\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (_typeof(args[0]) === 'object') {\n        options = Object.assign({}, args[0]);\n      } else {\n        var opts = _staticMap[this.provider].options().userInput;\n        args.forEach(function (el, i) {\n          var option = opts[i];\n          options[option] = el;\n        });\n      }\n      options.key = this.key;\n      if (this.provider === undefined) {\n        this.provider = 'StaticMap';\n      }\n      return new _staticMap[this.provider](options);\n    }\n  }, {\n    key: 'tileMap',\n    value: function tileMap() {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var options = {};\n\n      if (_typeof(args[0]) === 'object') {\n        options = Object.assign({}, args[0]);\n      } else {\n        ['lat', 'lng', 'zoom'].forEach(function (el, i) {\n          options[el] = args[i];\n        });\n      }\n      options.key = this.key;\n      options.provider = this.provider;\n      return new _tileMap[this.provider](options);\n    }\n  }]);\n\n  return Mappa;\n}();\n\nconsole.log('Mappa loaded!');\nmodule.exports = Mappa;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _StaticMap2 = __webpack_require__(0);\n\nvar _StaticMap3 = _interopRequireDefault(_StaticMap2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Google Static Maps API v2\n// Reference: https://developers.google.com/maps/documentation/static-maps/\n// -----------\n\nvar Google = function (_StaticMap) {\n  _inherits(Google, _StaticMap);\n\n  function Google(options) {\n    _classCallCheck(this, Google);\n\n    var _this = _possibleConstructorReturn(this, (Google.__proto__ || Object.getPrototypeOf(Google)).call(this, options));\n\n    _this.imgUrl = 'https://maps.googleapis.com/maps/api/staticmap?';\n    _this.createImage();\n    return _this;\n  }\n\n  _createClass(Google, [{\n    key: 'init',\n    value: function init() {\n      if (this.options.scale === 1 || this.options.scale === undefined) {\n        this.options.pixels = 128;\n        this.options.scale = 1;\n      } else if (this.options.scale === 2) {\n        this.options.pixels = 256;\n      }\n      if (this.options.width > 640) {\n        Google.messages().size('width', this.options.width);\n        this.options.width = 640;\n      }\n      if (this.options.height > 640) {\n        Google.messages().size('height', this.options.height);\n        this.options.height = 640;\n      }\n    }\n  }, {\n    key: 'createImage',\n    value: function createImage() {\n      var _this2 = this;\n\n      if (!this.options.key) {\n        delete this.options.key;\n        Google.messages().key();\n      }\n      if (!this.options.center) {\n        this.options.center = this.options.lat + ',' + this.options.lng;\n      }\n      if (!this.options.scale) {\n        this.options.scale = 1;\n      }\n      this.options.size = this.options.width + 'x' + this.options.height;\n\n      Object.keys(this.options).forEach(function (option) {\n        if (Google.options().valid.indexOf(option) > -1) {\n          _this2.imgUrl += '&' + option + '=' + _this2.options[option];\n        }\n      });\n      return this.imgUrl;\n    }\n  }], [{\n    key: 'options',\n    value: function options() {\n      return {\n        valid: ['center', 'zoom', 'size', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'signature', 'key', 'signature'],\n        userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'key', 'signature', 'center']\n      };\n    }\n  }, {\n    key: 'messages',\n    value: function messages() {\n      return {\n        size: function size(s, m) {\n          console.warn('You requested an image with a ' + s + ' of ' + m + 'px. Google Maps Static API max ' + s + ' value is 640px. For larger images, change the scale to 2 and keep the ' + s + ' between 1-640px. i.e: if you want an image 800x800px, set the width and height to 400x400 and the scale to 2.');\n        },\n        key: function key() {\n          console.warn('For better results please provide an API key for your Google Maps Static API.');\n        }\n      };\n    }\n  }]);\n\n  return Google;\n}(_StaticMap3.default);\n\nexports.default = Google;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _StaticMap2 = __webpack_require__(0);\n\nvar _StaticMap3 = _interopRequireDefault(_StaticMap2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Mapbox Static API v1\n// Reference: https://www.mapbox.com/api-documentation/#static\n// -----------\n\nvar Mapbox = function (_StaticMap) {\n  _inherits(Mapbox, _StaticMap);\n\n  function Mapbox(options) {\n    _classCallCheck(this, Mapbox);\n\n    var _this = _possibleConstructorReturn(this, (Mapbox.__proto__ || Object.getPrototypeOf(Mapbox)).call(this, options));\n\n    _this.imgUrl = 'https://api.mapbox.com/styles/v1/';\n    _this.createImage();\n    return _this;\n  }\n\n  _createClass(Mapbox, [{\n    key: 'init',\n    value: function init() {\n      this.options.pixels = 256;\n      if (!this.options.scale) {\n        this.options.scale = 1;\n      }\n      if (this.options.scale === 2) {\n        this.options.pixels = 512;\n      } else {\n        if (this.options.width > 1280) {\n          Mapbox.messages().size('width', this.options.width);\n          this.options.width = 1280;\n        }\n        if (this.options.height > 1280) {\n          Mapbox.messages().size('height', this.options.width);\n          this.options.height = 1280;\n        }\n      }\n    }\n  }, {\n    key: 'createImage',\n    value: function createImage() {\n      var _this2 = this;\n\n      if (!this.options.key) {\n        Mapbox.messages().key();\n        return null;\n      }\n      if (this.options.username !== undefined) {\n        this.imgUrl += this.options.username + '/';\n      } else {\n        this.imgUrl += 'mapbox/';\n      }\n      if (this.options.style !== undefined) {\n        this.imgUrl += this.options.style + '/';\n      } else {\n        this.imgUrl += 'streets-v10/';\n      }\n\n      this.imgUrl += 'static/';\n\n      if (this.options.overlay !== undefined) {\n        this.imgUrl += this.options.overlay + '/';\n      }\n\n      this.imgUrl += this.options.lng + ',' + this.options.lat + ',';\n\n      if (this.options.auto === false || this.options.auto === undefined) {\n        ['zoom', 'bearing', 'pitch'].forEach(function (e, i) {\n          if (_this2.options[e] !== undefined) {\n            _this2.imgUrl += _this2.options[e];\n          } else {\n            _this2.imgUrl += 0;\n          }\n          if (i < 2) {\n            _this2.imgUrl += ',';\n          }\n        });\n      } else {\n        this.imgUrl += 'auto';\n      }\n\n      this.imgUrl += '/' + this.options.width + 'x' + this.options.height;\n\n      if (this.options.scale === 2) {\n        this.imgUrl += '@2x';\n      }\n      this.imgUrl += '?access_token=' + this.options.key;\n      if (this.options.attribution) {\n        this.imgUrl += '&attribution=' + this.options.attribution;\n      } else {\n        this.imgUrl += '&attribution=false';\n      }\n      if (this.options.logo) {\n        this.imgUrl += '&logo=' + this.options.logo;\n      } else {\n        this.imgUrl += '&logo=false';\n      }\n      if (this.options.before_layer) {\n        this.imgUrl += '&before_layer=' + this.options.before_layer;\n      } else {\n        this.imgUrl += '&before_layer=false';\n      }\n      return this.imgUrl;\n    }\n  }], [{\n    key: 'options',\n    value: function options() {\n      return {\n        valid: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size'],\n        userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size']\n      };\n    }\n  }, {\n    key: 'messages',\n    value: function messages() {\n      return {\n        size: function size(s, m) {\n          return console.warn('You requested an image with a ' + s + ' of ' + m + 'px. Mapbox Static API max ' + s + ' value is 1280px. If you want a large image change the scale to 2.');\n        },\n        key: function key() {\n          console.error('Mapbox Static API needs a key to work. To get a key visit: https://www.mapbox.com/api-documentation/#static');\n        }\n      };\n    }\n  }]);\n\n  return Mapbox;\n}(_StaticMap3.default);\n\nexports.default = Mapbox;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _StaticMap2 = __webpack_require__(0);\n\nvar _StaticMap3 = _interopRequireDefault(_StaticMap2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Mapquest v5\n// Reference: https://developer.mapquest.com/documentation/static-map-api/v5/\n// -----------\n\nvar Mapquest = function (_StaticMap) {\n  _inherits(Mapquest, _StaticMap);\n\n  function Mapquest(options) {\n    _classCallCheck(this, Mapquest);\n\n    var _this = _possibleConstructorReturn(this, (Mapquest.__proto__ || Object.getPrototypeOf(Mapquest)).call(this, options));\n\n    _this.imgUrl = 'https://www.mapquestapi.com/staticmap/v5/map?';\n    _this.createImage();\n    return _this;\n  }\n\n  _createClass(Mapquest, [{\n    key: 'init',\n    value: function init() {\n      if (this.options.scale === 1 || this.options.scale === undefined) {\n        this.options.pixels = 128;\n        this.options.scale = 1;\n      } else if (this.options.scale === 2) {\n        this.options.pixels = 256;\n      }\n      if (this.options.width > 1920) {\n        Mapquest.messages().size('width', this.options.width);\n        this.options.width = 1920;\n      }\n      if (this.options.height > 1920) {\n        Mapquest.messages().size('height', this.options.height);\n        this.options.height = 1920;\n      }\n    }\n  }, {\n    key: 'createImage',\n    value: function createImage() {\n      var _this2 = this;\n\n      if (!this.options.key) {\n        Mapquest.messages().key();\n        return null;\n      }\n\n      this.options.size = this.options.width + ',' + this.options.height;\n      if (this.options.scale === 2) {\n        this.options.size += '@2x';\n      }\n      if (!this.options.center) {\n        this.options.center = this.options.lat + ',' + this.options.lng;\n      }\n      Object.keys(this.options).forEach(function (opt) {\n        if (Mapquest.options().valid.indexOf(opt) > -1) {\n          _this2.imgUrl += '&' + opt + '=' + _this2.options[opt];\n        }\n      });\n      return this.imgUrl;\n    }\n  }], [{\n    key: 'options',\n    value: function options() {\n      return {\n        valid: ['key', 'size', 'zoom', 'center', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key'],\n        userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key']\n      };\n    }\n  }, {\n    key: 'messages',\n    value: function messages() {\n      return {\n        size: function size(s, m) {\n          console.warn('You requested an image with a ' + s + ' of ' + m + 'px. Mapquest Static API max ' + s + ' value is 1920px. For larger images, change the scale to 2 and keep the ' + s + ' between 170x30px. i.e: if you want an 3840x3840px image, set the width and height to 1920x1920 and the scale to 2.');\n        },\n        key: function key() {\n          console.warn('Please provide and API key to work with Mapquest Static API. Get one here: https://developer.mapquest.com/documentation/');\n        }\n      };\n    }\n  }]);\n\n  return Mapquest;\n}(_StaticMap3.default);\n\nexports.default = Mapquest;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _TileMap2 = __webpack_require__(1);\n\nvar _TileMap3 = _interopRequireDefault(_TileMap2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Google Maps JavaScript v3.28\n// Reference: https://developers.google.com/maps/documentation/javascript/\n// -----------\n\nvar Google = function (_TileMap) {\n  _inherits(Google, _TileMap);\n\n  function Google(options) {\n    _classCallCheck(this, Google);\n\n    var _this = _possibleConstructorReturn(this, (Google.__proto__ || Object.getPrototypeOf(Google)).call(this, options));\n\n    _this.scriptSrc = 'https://maps.googleapis.com/maps/api/js?v=3';\n    if (_this.options.key) {\n      _this.scriptSrc += '&key=' + _this.options.key;\n    }\n    if (_this.options.language) {\n      _this.scriptSrc += '&language=' + _this.options.language;\n    }\n    if (_this.options.region) {\n      _this.scriptSrc += '&region=' + _this.options.region;\n    }\n    _this.onChangeMethods = {};\n    _this.loadSrc();\n    return _this;\n  }\n\n  _createClass(Google, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      if (!this.options.key) {\n        Google.messages().key();\n      }\n\n      this.map = new google.maps.Map(document.getElementById(this.id), {\n        center: { lat: this.options.lat, lng: this.options.lng },\n        zoom: this.options.zoom || 6,\n        mapTypeId: this.options.maptype || 'terrain',\n        styles: this.options.styles || '',\n        minZoom: 1 || this.options.minZoom\n      });\n\n      var overlay = new google.maps.OverlayView();\n\n      overlay.onAdd = function () {\n        overlay.getPanes().overlayLayer.appendChild(_this2.canvas);\n      };\n      overlay.draw = function () {};\n      overlay.setMap(this.map);\n\n      google.maps.event.addListener(this.map, 'bounds_changed', function () {\n        var center = overlay.getProjection().fromLatLngToDivPixel(_this2.map.getCenter());\n        var pixels = 2;\n        if (window.devicePixelRatio >= 2) {\n          pixels = 4;\n        }\n        var offsetX = -Math.round(_this2.canvas.width / pixels - center.x);\n        var offsetY = -Math.round(_this2.canvas.height / pixels - center.y);\n        var cvs = _this2.canvas.getContext('webgl') || _this2.canvas.getContext('2d');\n        cvs.canvas.style.transform = 'translate(' + offsetX + 'px,' + offsetY + 'px)';\n      });\n      google.maps.event.addListenerOnce(this.map, 'tilesloaded', function () {\n        _this2.ready = true;\n      });\n    }\n  }, {\n    key: 'fromLatLngToPixel',\n    value: function fromLatLngToPixel(inputPos) {\n      if (this.ready) {\n        var position = new google.maps.LatLng(inputPos);\n        var topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n        var bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n        var scale = Math.pow(2, this.map.getZoom());\n        var point = this.map.getProjection().fromLatLngToPoint(position);\n        return new google.maps.Point((point.x - bottomLeft.x) * scale, (point.y - topRight.y) * scale);\n      }\n      return {\n        x: -100,\n        y: -100\n      };\n    }\n  }, {\n    key: 'fromPointToLatLng',\n    value: function fromPointToLatLng() {\n      if (this.ready) {\n        var topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n        var bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n        var scale = Math.pow(2, this.map.getZoom());\n        var point = new google.maps.Point((arguments.length <= 0 ? undefined : arguments[0]) / scale + bottomLeft.x, (arguments.length <= 1 ? undefined : arguments[1]) / scale + topRight.y);\n        var latlng = this.map.getProjection().fromPointToLatLng(point);\n        return {\n          lat: latlng.lat(),\n          lng: latlng.lng()\n        };\n      }\n      return {\n        lat: -100,\n        lng: -100\n      };\n    }\n  }, {\n    key: 'getZoom',\n    value: function getZoom() {\n      if (this.ready) {\n        return this.map.getZoom();\n      }\n      return 0;\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(callback) {\n      var _this3 = this;\n\n      if (this.ready) {\n        callback();\n        this.onChangeMethods[callback] = google.maps.event.addListener(this.map, 'bounds_changed', callback);\n      } else {\n        setTimeout(function () {\n          _this3.onChange(callback);\n        }, 200);\n      }\n    }\n  }, {\n    key: 'removeOnChange',\n    value: function removeOnChange(callback) {\n      google.maps.event.removeListener(this.onChangeMethods[callback]);\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        key: function key() {\n          console.warn('Please provide a Goolge Maps API Key. Get one here: https://developers.google.com/maps/documentation/javascript/ ');\n        }\n      };\n    }\n  }]);\n\n  return Google;\n}(_TileMap3.default);\n\nexports.default = Google;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Leaflet2 = __webpack_require__(2);\n\nvar _Leaflet3 = _interopRequireDefault(_Leaflet2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Mapbox v3.1.1\n// Reference: https://www.mapbox.com/mapbox.js/api/v3.1.1/\n// -----------\n\nvar Mapbox = function (_Leaflet) {\n  _inherits(Mapbox, _Leaflet);\n\n  function Mapbox(options) {\n    _classCallCheck(this, Mapbox);\n\n    var _this = _possibleConstructorReturn(this, (Mapbox.__proto__ || Object.getPrototypeOf(Mapbox)).call(this, options));\n\n    _this.scriptSrc = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js';\n    _this.styleSrc = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css';\n    _this.loadSrc();\n    return _this;\n  }\n\n  _createClass(Mapbox, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      if (this.options.key) {\n        L.mapbox.accessToken = this.options.key;\n      } else {\n        Mapbox.messages().key();\n      }\n      this.map = L.mapbox.map(this.id).setView([this.options.lat, this.options.lng], this.options.zoom);\n\n      if (this.options.studio) {\n        this.tiles = L.mapbox.styleLayer(this.options.style || 'mapbox://styles/mapbox/emerald-v8').addTo(this.map);\n      } else {\n        this.tiles = L.mapbox.tileLayer(this.options.style || 'mapbox.streets').addTo(this.map);\n      }\n\n      this.tiles.on('ready', function () {\n        _this2.ready = true;\n      });\n      this.canvasOverlay();\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        key: function key() {\n          console.warn('Please provide a Mapbox API key. Get one here: https://www.mapbox.com/mapbox.js/api/v3.1.1');\n        }\n      };\n    }\n  }]);\n\n  return Mapbox;\n}(_Leaflet3.default);\n\nexports.default = Mapbox;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _TileMap2 = __webpack_require__(1);\n\nvar _TileMap3 = _interopRequireDefault(_TileMap2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // -----------\n// Mapbox-gl v0.43.0\n// Reference: https://www.mapbox.com/mapbox-gl-js/api/\n// -----------\n\nvar MapboxGL = function (_TileMap) {\n  _inherits(MapboxGL, _TileMap);\n\n  function MapboxGL(options) {\n    _classCallCheck(this, MapboxGL);\n\n    var _this = _possibleConstructorReturn(this, (MapboxGL.__proto__ || Object.getPrototypeOf(MapboxGL)).call(this, options));\n\n    _this.scriptSrc = 'https://api.mapbox.com/mapbox-gl-js/v0.43.0/mapbox-gl.js';\n    _this.styleSrc = 'https://api.mapbox.com/mapbox-gl-js/v0.43.0/mapbox-gl.css';\n    _this.ready = false;\n    if (!_this.options.key) {\n      MapboxGL.messages().key();\n    } else {\n      _this.loadSrc();\n    }\n    return _this;\n  }\n\n  _createClass(MapboxGL, [{\n    key: 'createMap',\n    value: function createMap() {\n      var _this2 = this;\n\n      mapboxgl.accessToken = this.options.key;\n      this.map = new mapboxgl.Map({\n        container: this.id,\n        style: this.options.style || 'mapbox://styles/mapbox/satellite-streets-v10',\n        center: [this.options.lng, this.options.lat],\n        zoom: this.options.zoom,\n        minZoom: this.options.minZoom || 0,\n        maxZoom: this.options.maxZoom || 22,\n        bearing: this.options.bearing || 0,\n        pitch: this.options.pitch || 0,\n        renderWorldCopies: true && this.options.renderWorldCopies,\n        maxBounds: this.options.maxBounds || undefined\n      });\n\n      this.map.getCanvasContainer().appendChild(this.canvas);\n      this.canvas.style.position = 'relative';\n      if (this.options.opacity) {\n        document.getElementsByClassName('mapboxgl-canvas')[0].style.opacity = this.options.opacity;\n      }\n      this.map.on('load', function () {\n        _this2.ready = true;\n      });\n    }\n  }, {\n    key: 'fromLatLngToPixel',\n    value: function fromLatLngToPixel(latLng) {\n      if (this.ready) {\n        return this.map.project(latLng);\n      }\n      return {\n        x: -100,\n        y: -100\n      };\n    }\n  }, {\n    key: 'fromPointToLatLng',\n    value: function fromPointToLatLng() {\n      if (this.ready) {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return this.map.unproject(args);\n      }\n      return {\n        lat: -100,\n        lng: -100\n      };\n    }\n  }, {\n    key: 'getZoom',\n    value: function getZoom() {\n      if (this.ready) {\n        return this.map.getZoom();\n      }\n      return 0;\n    }\n  }, {\n    key: 'onChange',\n    value: function onChange(callback) {\n      var _this3 = this;\n\n      if (this.ready) {\n        callback();\n        this.map.on('render', callback);\n      } else {\n        setTimeout(function () {\n          _this3.onChange(callback);\n        }, 200);\n      }\n    }\n  }, {\n    key: 'removeOnChange',\n    value: function removeOnChange(callback) {\n      this.map.off('render', callback);\n    }\n  }], [{\n    key: 'messages',\n    value: function messages() {\n      return {\n        key: function key() {\n          console.warn('Please provide a Mapbox-gl API key. Get one here: https://www.mapbox.com/mapbox-gl-js/api/');\n        }\n      };\n    }\n  }]);\n\n  return MapboxGL;\n}(_TileMap3.default);\n\nexports.default = MapboxGL;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// GUID Generator\nvar s4 = function s4() {\n  return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n};\nvar GUID = function GUID() {\n  return \"\" + s4() + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + s4() + s4();\n};\n\nexports.default = GUID;\n\n/***/ })\n/******/ ]);\n});"]},"metadata":{},"sourceType":"script"}